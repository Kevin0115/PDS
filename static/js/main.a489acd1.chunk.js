(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n.p+"static/media/medical-icon.402ad07e.svg"},15:function(e,t,n){e.exports=n.p+"static/media/close.1f49e190.svg"},16:function(e,t,n){e.exports=n.p+"static/media/spinner.44203b3e.svg"},17:function(e,t,n){e.exports=n.p+"static/media/reload.29048924.svg"},18:function(e,t,n){e.exports=n(44)},24:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(8),r=n.n(c),o=(n(24),n(2)),s=n(3),l=n(5),d=n(4),u=n(6),m=(n(26),n(13)),h=n.n(m),p=n(1),f=(n(28),n(14)),b=n.n(f),E=(n(40),n(15)),v=n.n(E),_={content:{height:"400px",width:"500px",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},O=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={modalContent:{}},n._popQueue=n._popQueue.bind(Object(p.a)(Object(p.a)(n))),n._showModal=n._showModal.bind(Object(p.a)(Object(p.a)(n))),n._hideModal=n._hideModal.bind(Object(p.a)(Object(p.a)(n))),n._handleEsc=n._handleEsc.bind(Object(p.a)(Object(p.a)(n))),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("keydown",this._handleEsc,!1)}},{key:"_showModal",value:function(e){this.setState({showModal:!0,modalContent:this.props.patients[e]})}},{key:"_hideModal",value:function(){this.setState({showModal:!1})}},{key:"_handleEsc",value:function(e){27===e.keyCode&&this._hideModal()}},{key:"_renderPatients",value:function(){var e=this;return this.props.patients.map(function(t,n){return i.a.createElement("button",{key:n,className:"patient-btn",onClick:e._showModal.bind(e,n)},i.a.createElement("p",{key:n},t.name,": ",t.care_card))})}},{key:"_popQueue",value:function(){var e=this;fetch("http://kevinpi.ddns.net/clinics/"+this.props.clinic_id+"/patients",{method:"DELETE"}).then(function(t){t.error?console.warn("Error!",t.error):e.props.onRefresh()}).catch(function(e){console.warn("Error: ",e)})}},{key:"render",value:function(){return i.a.createElement("div",{className:"clinic-item"},i.a.createElement(b.a,{ariaHideApp:!1,isOpen:this.state.showModal,contentLabel:"Modal",style:_},i.a.createElement("div",{className:"modal-content"},i.a.createElement("button",{className:"close-modal",onClick:this._hideModal},i.a.createElement("img",{src:v.a,alt:"X"})),i.a.createElement("p",{className:"modal-title"},"Patient Information"),i.a.createElement("p",{className:"patient-info"},"Full Name: ",this.state.modalContent.name),i.a.createElement("p",{className:"patient-info"},"Care Card Number: ",this.state.modalContent.care_card),i.a.createElement("p",{className:"patient-info"},"Phone Number: ",this.state.modalContent.phone))),i.a.createElement("div",{className:"header"},i.a.createElement("p",{className:"clinic-name"},this.props.name),i.a.createElement("p",{className:"clinic-address"},this.props.address),i.a.createElement("p",{className:"waittime"},"Wait Time: ",this.props.wait_time," hours"),i.a.createElement("button",{className:"pop-btn",onClick:this._popQueue},"Pop Queue")),i.a.createElement("div",{className:"patient-list"},this._renderPatients()))}}]),t}(a.Component),j=(n(42),n(16)),k=n.n(j),w=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"spinner"},i.a.createElement("img",{src:k.a,id:"spinner-icon",alt:"LOADING"}))}}]),t}(a.Component),y=n(17),g=n.n(y),N=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={clinicList:[],isLoading:!1},n._refreshPage=n._refreshPage.bind(Object(p.a)(Object(p.a)(n))),n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"_refreshPage",value:function(){this._retrieveClinicData()}},{key:"_retrieveClinicData",value:function(){var e=this;this.setState({isLoading:!0}),fetch("http://kevinpi.ddns.net/clinics",{method:"GET"}).then(function(e){return e.json()}).then(function(t){t.error?console.warn("Error!",t.error):e.setState({clinicList:t.sort(function(e,t){return e.clinic_id-t.clinic_id}),isLoading:!1})}).catch(function(e){console.warn("Error: ",e)})}},{key:"componentWillMount",value:function(){this._retrieveClinicData()}},{key:"_renderClinics",value:function(){var e=this;return this.state.isLoading?i.a.createElement("div",{className:"spinner-wrapper"},i.a.createElement(w,null)):this.state.clinicList.map(function(t,n){return i.a.createElement(O,Object.assign({key:n},t,{onRefresh:e._refreshPage}))})}},{key:"render",value:function(){return i.a.createElement("div",{className:"body"},i.a.createElement("button",{className:"reload-btn",onClick:this._refreshPage},i.a.createElement("img",{className:"reload",src:g.a,alt:"Reload"})),this._renderClinics())}}]),t}(a.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"site-header"},i.a.createElement("img",{src:h.a,alt:""}),i.a.createElement("p",null,"Patient Distribution System")),i.a.createElement("div",{className:"body-content"},i.a.createElement(N,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,2,1]]]);
//# sourceMappingURL=main.a489acd1.chunk.js.map